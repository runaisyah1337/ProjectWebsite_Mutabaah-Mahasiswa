<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar - STMIK Tazkia</title>
    <style>
        :root { --tazkia-blue: #003399; --input-bg: #eef4ff; }
        body { font-family: 'Segoe UI', sans-serif; background: #fff; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        .register-card { width: 350px; text-align: center; }
        .logo { width: 90px; margin-bottom: 10px; }
        h1 { color: var(--tazkia-blue); font-size: 26px; font-weight: bold; }
        .form-group { text-align: left; margin-bottom: 12px; }
        label { color: var(--tazkia-blue); font-weight: bold; font-size: 13px; }
        input, select { width: 100%; padding: 12px; margin-top: 5px; background: var(--input-bg); border: 1px solid #d1d9e6; border-radius: 12px; box-sizing: border-box; }
        .btn-daftar { width: 100%; padding: 14px; background: var(--tazkia-blue); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="register-card">
        <img src="image-removebg-preview.png" alt="Logo" class="logo">
        <h1>Daftar Akun</h1>
        <div class="form-group">
            <label>Nama Lengkap</label>
            <input type="text" id="regNama" placeholder="Nama Lengkap">
        </div>
        <div class="form-group">
            <label>Daftar Sebagai</label>
            <select id="regRole" onchange="updateLabel()">
                <option value="mahasiswa">Mahasiswa</option>
                <option value="pembina">Pembina</option>
                <option value="admin">Admin</option>
            </select>
        </div>
        <div class="form-group">
            <label id="dynamicLabel">NIM</label>
            <input type="text" id="regId" placeholder="Masukkan NIM">
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="email" id="regEmail" placeholder="contoh@gmail.com">
        </div>
        <div class="form-group">
            <label>Kata Sandi</label>
            <input type="password" id="regPass" placeholder="••••••">
        </div>
        <button class="btn-daftar" onclick="prosesDaftar()">Daftar Sekarang</button>
        <p>Sudah punya akun? <a href="login.html" style="color:var(--tazkia-blue); font-weight:bold; text-decoration:none;">Masuk</a></p>
    </div>

    <script>
        function updateLabel() {
            const role = document.getElementById('regRole').value;
            document.getElementById('dynamicLabel').innerText = (role === "mahasiswa") ? "NIM" : "Nomor HP";
        }

        function prosesDaftar() {
            const role = document.getElementById('regRole').value;
            const nama = document.getElementById('regNama').value;
            const idVal = document.getElementById('regId').value;
            const email = document.getElementById('regEmail').value;
            const pass = document.getElementById('regPass').value;

            if(!nama || !idVal || !email || !pass) return alert("Lengkapi data!");

            let db = JSON.parse(localStorage.getItem('tazkia_db_users')) || [];
            let newUser = { nama, role, email, password: pass };
            if (role === "mahasiswa") newUser.nim = idVal; else newUser.no_hp = idVal;

            db.push(newUser);
            localStorage.setItem('tazkia_db_users', JSON.stringify(db));
            alert("Pendaftaran Berhasil!");
            window.location.href = "login.html";
        }
    </script>
</body>
</html>